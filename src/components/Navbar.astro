<header class="navbar">
  <nav class="navbar-container animate__animated animate__bounceInDown">
    <a href="/#inicio" class="navbar-link active">Inicio</a>
    <a href="/#proyectos" class="navbar-link">Proyectos</a>
    <a href="/#habilidades" class="navbar-link">Habilidades</a>
    <a href="/#experiencia" class="navbar-link">Experiencia</a>
  </nav>
</header>
<style is:global>
  .navbar {
    @apply fixed top-0 left-0 z-20 w-full
    sm:top-4 sm:left-4
  }
  .navbar-container {
    @apply w-full p-2 mx-auto flex justify-center items-center flex-wrap gap-x-2 gap-y-1 
    backdrop-blur-sm bg-slate-50 dark:bg-slate-950 !bg-opacity-75 shadow-xl
    sm:w-max sm:rounded-xl
    lg:rounded-full
  }
  .navbar-link {
    @apply relative px-4 py-2 flex items-center font-medium duration-150 
  }
  .active {
    @apply relative
  }
  .active::after {
    content: '';
    @apply absolute top-0 left-0 -z-10 w-full h-full bg-slate-200 dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-700 rounded-full;
  }
</style>
<script>
  document.addEventListener('scroll', () => {
  const sections = document.querySelectorAll('section');
  const navLinks = document.querySelectorAll('.navbar-link');

  sections.forEach(sec => {
    const rect = sec.getBoundingClientRect();

    if (rect.top <= 112 && rect.bottom >= 112) {
      navLinks.forEach(link => {
        link.classList.remove('active');
      });

      const correspondingLink = document.querySelector(`.navbar-link[href*='${sec.id}']`);
      if (correspondingLink) {
        correspondingLink.classList.add('active');
      }
    }
  });
});
</script>