---
import { PROJECTS } from "../../data/projects";
import Layout from "../../layouts/Layout.astro";

export const getStaticPaths = async () => {
  return PROJECTS.map(project => ({
    params: {id: project.id.toString()},
    props: {project}
  }));
}

const {project: {id, name, images, subtitle, description,process,stacks, demo, repository}} = Astro.props

---
<Layout title="Rodrigo Ruiz Diaz" description="">
  <main>
    <a href="/#proyectos" class="fixed top-4 left-4 px-6 h-12 flex flex-none items-center justify-center text-white/75 gap-2 rounded-full bg-slate-950 border border-slate-800 duration-150 hover:text-white hover:scale-105">
      <i class="fa-solid fa-arrow-left"></i>
      <span class="text-base">Volver</span>
    </a>
    <section>
      <h1>{name}</h1>
      <h3>{subtitle}</h3>
      <div class="mb-16 flex flex-col">
        <h2>Capturas</h2>
      <div class="swiper">
        <div class="swiper-wrapper">
          {images && images.map(img => <img src={img} alt={name} class="swiper-slide" />)}
        </div>
        <div class="swiper-pagination"></div>
      </div>
      </div>
      <div class="mb-16 flex flex-col">
        <h2>Descripcion</h2>
        <div class="max-w-2xl flex flex-col gap-2">
          {description && description.map(desp => <p>{desp}</p>)}
          <p>{process}</p>
        </div>
      </div>
      <div class="mb-16 flex flex-col">
        <h2>Tecnologias</h2>
        <ul class="flex justify-center flex-wrap gap-x-2 gap-y-1">
          {stacks && stacks.map(stack => <li class="px-6 py-3 flex items-center text-lg text-white/75 rounded-xl bg-slate-950 border border-slate-700 capitalize">{stack}</li>)}
        </ul>
      </div>
      <div class="mb-16 flex flex-col">
        <h2>Enlaces</h2>
        <div class="flex justify-center flex-wrap gap-x-2 gap-y-1">
          <a 
          href={demo} 
          target="_blank" 
          rel="noopener noreferrer" 
          class="px-6 h-12 flex flex-none items-center justify-center text-white/75 gap-2 rounded-full bg-slate-950 border border-slate-800 duration-150 hover:text-white hover:scale-105">
            <i class="fa-solid fa-globe"></i>
            <span>Visitar pagina web</span>
          </a>
          <a 
          href={repository} 
          target="_blank" 
          rel="noopener noreferrer" 
          class="px-6 h-12 flex flex-none items-center justify-center text-white/75 gap-2 rounded-full bg-slate-950 border border-slate-800 duration-150 hover:text-white hover:scale-105">
            <i class="fa-brands fa-github"></i>
            <span>Ver repositorio</span>
          </a>
        </div>
      </div>
    </section>
  </main>
</Layout>
<style>
  :root {
    --swiper-pagination-color: #06b6d4;
  }
  section {
    @apply px-8 my-20 flex flex-col items-center justify-center
  }
  h1,h2,h3 {
    @apply text-center
  }
  h1 {
    @apply py-2 mb-20 text-5xl font-bold
  }
  h2 {
    @apply mb-8 text-3xl font-medium capitalize text-center
  }
  h3 {
    @apply mb-8 text-white/75 text-lg
  }
  p {
    @apply text-white/90 text-center last:mt-4 last:text-sm last:text-white/75
  }
  .swiper-slide {
    @apply h-auto object-cover object-top
  }
</style>
<script>

import Swiper from 'swiper'
import { Pagination } from 'swiper/modules'
import 'swiper/css'
import 'swiper/css/pagination'

const swiper = new Swiper(".swiper", {
  modules: [Pagination],
  slidesPerView: 1,
  spaceBetween: 4,
  pagination: {
    el: ".swiper-pagination",
    clickable: true,
  },
  breakpoints: {
    640: { slidesPerView: 2},
  },
})
</script>